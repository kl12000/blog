(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{291:function(t,s,n){"use strict";n.r(s);var a=n(3),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"部署教程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署教程"}},[t._v("#")]),t._v(" 部署教程")]),t._v(" "),n("h2",{attrs:{id:"部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),n("p",[t._v("使用默认的构建输出位置（.vuepress/dist）。\nVuePress 是在项目本地的依赖中安装的，并且配置（package.json）如下的 scripts:")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress dev blog"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress build blog"')]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"github页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#github页面"}},[t._v("#")]),t._v(" GitHub页面")]),t._v(" "),n("p",[t._v("1.在 "),n("code",[t._v("blog/.vuepress/config.js")]),t._v(" 设置正确的"),n("code",[t._v("base")]),t._v("。"),n("br"),t._v("\n如果你打算部署到"),n("code",[t._v("https://<USERNAME>.github.io/")]),t._v("，就可以省略这一步，因为"),n("code",[t._v("base")]),t._v("默认为 "),n("code",[t._v('"/"')]),t._v("。"),n("br"),t._v("\n如果你打算部署到 "),n("code",[t._v("https://<USERNAME>.github.io/<REPO>/")]),t._v("（也就是说你的仓库地址是 "),n("code",[t._v("https://github.com/<USERNAME>/<REPO>")]),t._v("），设置 "),n("code",[t._v("base")]),t._v(" 为 "),n("code",[t._v('"/<REPO>/"')]),t._v("。"),n("br"),t._v("\n2.在你的项目中，创建一个有以下内容的 "),n("code",[t._v("deploy.sh")]),t._v("文件（对高亮行适当注释），然后运行它完成部署：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env sh")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 终止一个错误")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" -e\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run docs:build\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入生成的构建文件夹")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docs/.vuepress/dist\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果你是要部署到自定义域名")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo 'www.example.com' > CNAME")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果你想要部署到 https://<USERNAME>.github.io")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果你想要部署到 https://<USERNAME>.github.io/<REPO>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同步代码到github")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git remote add origin https://github.com/<USERNAME>/blog.git")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git pull --rebase origin master ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git push -u origin master")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" -\n")])])]),n("p",[t._v("::: tip\n每次发布执行"),n("code",[t._v("deploy.sh")]),t._v("文件。\n:::")])])}),[],!1,null,null,null);s.default=e.exports}}]);